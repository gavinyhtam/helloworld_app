	<div class="jumbotron">
		  <h1>Hello, world!</h1>
		  <p>Review your experiences!</p>
		  <p><button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  How to
</button></p>
		</div>
			
		<div class="modal fade" id="myModal">
		  <div class="modal-dialog modal-lg">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
		        <h4 class="modal-title">
		        	View your experiences
		        	<span class="glyphicon glyphicon-camera"></span>
		        </h4>
		      </div>
		      <div class="modal-body">
		      	<p> Click on any picture to view</p>
					<!--div id="myFBImage"></div-->
					<div id="my-timeline"></div>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		        <button type="button" class="btn btn-primary">Save changes</button>
		      </div>
		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		<div class="progress">
		  <div class="progress-bar" style="width: 35%">
		    35%
		  </div>
		  <div class="progress-bar progress-bar-warning" style="width: 65%">
		    65%
		  </div>
		</div>
		<!--Display AmMaps javascript-->
		<div id="mapdiv"></div>
	
	<script type="text/javascript" src="http://cdn.knightlab.com/libs/timeline/latest/js/storyjs-embed.js"></script>
	<script>
	//Source for FB SDK Loaded from http://stackoverflow.com/questions/7747668/fb-is-undefined-even-though-i-just-used-it
		(function($) {
			$(document).bind("FBSDKLoaded", function() {
				FB.getLoginStatus(function(response) {
					if (response.status === "connected") {
						getPhotos();
					}
				});
			});
		})(jQuery);
		
		function getPhotos() {
			FB.api("/me/photos/uploaded",
				function(response) {
					console.log(response.data[0]);
					//<!-- BEGIN TimelineJS -->
					$(document).ready(function() {
						//initialise album
						var photos = { 
							timeline: {
								headline: "Singapore trip",
								type: "default",
								text: "<p>Album</p>",
								asset: {
									media: response.data[0].source
								},
								date: [],
								era: [],
							}
						};
						 //Loop through all photos and add to JSON
						 //WARNING: Fix loading problem as images load slower than Javascript
						 //so timeline may not show until refresh
						 for (var i = 0; i < response.data.length; i++) {
							photos["timeline"]["date"][i] = initPhoto(response.data[i]);
							photos["timeline"]["era"][i] = initPhoto(response.data[i]);
						 }
						 //create the TimelineJS
						 createStoryJS({
							  type:       'timeline',
							  width:      '800',
							  height:     '600',
							  source:     photos,
							  embed_id:   'my-timeline'
						 });	 
					});
			});
		}
		
		//Returns JSON version of the photo date extracted from FB API
		function initPhoto(photoData) {
			var jsonPhotoData = {
				startDate: parseDate(photoData.created_time),
				endDate: parseDate(photoData.created_time),
				headline: photoData.name,
				text: "<p>Singapore photo</p>",
				asset: {
					media: photoData.source
				} 
			};
			return jsonPhotoData;
		}
		
		//parses JSON (ISO8601) to TimelineJS Date format
		function parseDate(string) {
			//return string.replace(/-/g, ",").substring(0,10);
			var date = new Date(string);
			//date.getMonth() returns 0-11, instead of 1-12
			return date.getFullYear() + "," + (date.getMonth()+1) + "," + date.getUTCDate();
		}
	</script>